function t({containerId:t="bravia-balls",canvasSelector:c=".portfolio-wall-canvas"}={}){const s=document.getElementById(t);if(!s)return null;const o=s.querySelector(c);if(!o)return null;const i=(t=>{let a=null;try{a=t.getContext("2d",{alpha:!0,desynchronized:!0,willReadFrequently:!1})}catch(r){}if(!a)try{a=t.getContext("2d")}catch(r){}return a&&(a.imageSmoothingEnabled=!1),a})(o);if(!i)return null;a(o,i,s);const l=e(),u=+(window.devicePixelRatio||1),d=Number.isFinite(u)?Math.max(1,Math.min(2,u)):1;try{r(d)}catch(v){}let h=0,w=!1;const y=()=>{const t=s.clientWidth+2,a=s.clientHeight+2;if(0>=t||0>=a)return;const r=l.DPR||1,n=Math.max(1,Math.ceil(t*r)),e=Math.max(1,Math.ceil(a*r));o.width!==n&&(o.width=n),o.height!==e&&(o.height=e),M()},f=()=>{h=0,w=!1;const t=o.width,a=o.height;t>0&&a>0&&(i.clearRect(0,0,t,a),n(i,t,a))},M=()=>{w||(w=!0,h=window.requestAnimationFrame(f))};y(),window.addEventListener("resize",y,{passive:!0});const b=new MutationObserver(()=>M());try{b.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}catch(v){}return{canvas:o,ctx:i,resize:y,redraw:M,destroy(){try{window.removeEventListener("resize",y)}catch(v){}try{b.disconnect()}catch(v){}try{h&&window.cancelAnimationFrame(h)}catch(v){}}}}import{q as a,ac as r,ad as n,g as e}from"./shared.js";export{t as i};