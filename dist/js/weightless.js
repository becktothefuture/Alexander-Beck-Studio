function t(){const t=s();r();const o=a(t.weightlessCount);o>0&&((t,o)=>{const r=t.canvas;if(!r)return;const s=r.width,a=r.height,c=t.DPR||1,e=(t=>{let o=1;for(;t>o*(o+1)/2;)o++;return o})(o),f=Math.min(o,e*(e+1)/2),h=.5*((t.R_MIN||15)+(t.R_MAX||25))*c*2.1,i=(e-1)*h,M=.5*s-.5*i,u=.5*a-(e-1)*h*Math.sqrt(3)/2*.5;let l=0;for(let m=0;e>m&&f>l;m++){const t=m+1,o=M+.5*(i-(t-1)*h),r=u+m*h*Math.sqrt(3)/2;for(let s=0;t>s&&f>l;s++){const t=n(o+s*h,r);t.vx=0,t.vy=0,t.omega=0,t.driftAx=0,t.driftTime=0,l++}}})(t,o)}function o(t,o){const n=s();if(!n.mouseInCanvas)return;const r=n.weightlessRepelRadius??0,a=n.weightlessRepelPower??0;if(0>=r||0>=a)return;const c=r*(n.DPR||1),e=t.x-n.mouseX,f=t.y-n.mouseY,h=e*e+f*f;if(h>c*c)return;const i=Math.max(Math.sqrt(h),1e-4),M=e/i,u=f/i,l=20*a*Math.pow(Math.max(0,1-i/c),n.weightlessRepelSoft??2.2),m=Math.max(.25,t.m/n.MASS_BASELINE_KG);t.vx+=M*l*o/m,t.vy+=u*l*o/m}import{s as n}from"./spawn.js";import{am as r,g as s,aP as a}from"./shared.js";import"./Ball.js";export{o as applyWeightlessForces,t as initializeWeightless};