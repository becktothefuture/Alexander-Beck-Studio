{"version":3,"file":"cv.js","sources":["../../source/modules/cv/cv-photo-slideshow.js","../../source/modules/cv/cv-panel.js","../../source/modules/cv-init.js"],"sourcesContent":["// ╔══════════════════════════════════════════════════════════════════════════════╗\n// ║                           CV PHOTO SLIDESHOW                                 ║\n// ║                                                                              ║\n// ║  Scroll-driven: Photo changes as you scroll through CV text                 ║\n// ║  Cycles through all images based on scroll progress (0% to 100%)            ║\n// ╚══════════════════════════════════════════════════════════════════════════════╝\n\nconst SLIDESHOW_CONFIG = {\n  imageFolder: 'images/cv-images/',\n  images: [\n    'profile-image-01.jpg',\n    'profile-image-02.jpg',\n    'profile-image-03.jpg',\n    'profile-image-04.jpg',\n    'profile-image-05.jpg',\n    'profile-image-06.jpg',\n    'profile-image-07.jpg',\n    'profile-image-08.jpg',\n    'profile-image-09.jpg',\n    'profile-image-10.jpg',\n  ],\n  jitterInterval: 150, // milliseconds between position changes\n};\n\n// Static centered position (no jitter, no rotation)\nconst JITTER_POSITIONS = [\n  { x: -50, y: -50, rotate: 0 },\n];\n\nexport function initCvPhotoSlideshow() {\n  const photoContainer = document.querySelector('.cv-photo');\n  const photoImg = document.querySelector('.cv-photo__image');\n  const scrollContainer = document.querySelector('.cv-right');\n  \n  if (!photoContainer || !photoImg || !scrollContainer) {\n    console.warn('[CV Photo Slideshow] Required elements not found');\n    return null;\n  }\n\n  // Build full image URLs\n  const imageUrls = SLIDESHOW_CONFIG.images.map(\n    (img) => `${SLIDESHOW_CONFIG.imageFolder}${img}`\n  );\n\n  let currentImageIndex = 0;\n  let currentPositionIndex = 0;\n  let jitterIntervalId = null;\n\n  // Apply a jitter position (abrupt jump, no transition)\n  function applyJitterPosition() {\n    const position = JITTER_POSITIONS[currentPositionIndex];\n    photoImg.style.transform = `translate(${position.x}%, ${position.y}%) rotate(${position.rotate}deg)`;\n    \n    // Move to next position\n    currentPositionIndex = (currentPositionIndex + 1) % JITTER_POSITIONS.length;\n  }\n\n  // Set image based on scroll progress\n  function updateImageFromScroll() {\n    const scrollTop = scrollContainer.scrollTop;\n    const scrollHeight = scrollContainer.scrollHeight;\n    const clientHeight = scrollContainer.clientHeight;\n    const maxScroll = scrollHeight - clientHeight;\n    \n    // Calculate scroll progress (0 to 1)\n    const scrollProgress = maxScroll > 0 ? scrollTop / maxScroll : 0;\n    \n    // Map scroll progress to image index (evenly distributed across all 10 images)\n    // Each image gets an equal slice of the scroll range (0-10%, 10-20%, etc.)\n    const targetIndex = Math.min(\n      Math.floor(scrollProgress * imageUrls.length),\n      imageUrls.length - 1\n    );\n    \n    // Debug logging\n    console.log(`[CV Scroll Debug] top:${scrollTop.toFixed(0)} max:${maxScroll.toFixed(0)} progress:${(scrollProgress * 100).toFixed(1)}% → img ${targetIndex + 1}/${imageUrls.length}`);\n    \n    // Update image (even if same index, to ensure it's set)\n    if (targetIndex !== currentImageIndex) {\n      currentImageIndex = targetIndex;\n      photoImg.src = imageUrls[currentImageIndex];\n      console.log(`[CV Photo] ✓ Changed to image ${targetIndex + 1}`);\n    }\n  }\n\n  // Set initial image and position (static, no animation)\n  photoImg.src = imageUrls[0];\n  applyJitterPosition();\n\n  // Jitter animation disabled - image stays centered\n  // jitterIntervalId = setInterval(applyJitterPosition, SLIDESHOW_CONFIG.jitterInterval);\n\n  // Listen to scroll events (immediate, no debounce for testing)\n  scrollContainer.addEventListener('scroll', () => {\n    updateImageFromScroll();\n  }, { passive: true });\n  \n  // Also update on initial load\n  setTimeout(() => {\n    updateImageFromScroll();\n  }, 500);\n\n  // Click handler: advance to next image manually\n  photoContainer.style.cursor = 'pointer';\n  photoContainer.addEventListener('click', (event) => {\n    event.preventDefault();\n    if (imageUrls.length > 1) {\n      currentImageIndex = (currentImageIndex + 1) % imageUrls.length;\n      photoImg.src = imageUrls[currentImageIndex];\n    }\n  });\n\n  console.log(`[CV Photo Slideshow] Initialized with ${imageUrls.length} image(s) - scroll-driven`);\n\n  // Return cleanup function\n  return {\n    destroy() {\n      if (jitterIntervalId) {\n        clearInterval(jitterIntervalId);\n        jitterIntervalId = null;\n      }\n      if (scrollTimeout) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = null;\n      }\n      photoContainer.style.cursor = '';\n    },\n  };\n}\n\n","// ╔══════════════════════════════════════════════════════════════════════════════╗\n// ║                           CV CONFIG PANEL                                    ║\n// ║                   Control panel for CV page layout                           ║\n// ╚══════════════════════════════════════════════════════════════════════════════╝\n\nconst STORAGE_KEY = 'cv_config';\n\n// Default configuration\nconst DEFAULT_CONFIG = {\n  // Left column (photo + intro)\n  leftWidth: 32, // vw\n  leftPaddingTop: 10, // vh\n  leftPaddingBottom: 10, // vh\n  leftGap: 2.5, // rem\n  \n  // Photo\n  photoAspectRatio: 0.75, // 3:4 ratio\n  photoSize: 115, // % (fills container with slight overflow for jitter effect)\n  photoBorderRadius: 1, // rem\n  \n  // Right column (scrollable content)\n  rightPaddingTop: 20, // vh\n  rightPaddingBottom: 20, // vh\n  rightPaddingX: 2.5, // rem\n  rightMaxWidth: 42, // rem\n  \n  // Typography\n  nameSize: 2.2, // rem\n  titleSize: 0.9, // rem\n  sectionTitleSize: 0.75, // rem\n  bodySize: 0.9, // rem\n  \n  // Spacing\n  sectionGap: 3.5, // rem\n  paragraphGap: 1.5, // rem\n  \n  // Colors\n  mutedOpacity: 0.6, // for section titles\n};\n\n// Load configuration from localStorage\nfunction loadConfig() {\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (!stored) return { ...DEFAULT_CONFIG };\n    const parsed = JSON.parse(stored);\n    return { ...DEFAULT_CONFIG, ...parsed };\n  } catch (e) {\n    return { ...DEFAULT_CONFIG };\n  }\n}\n\n// Save configuration to localStorage\nfunction saveConfig(config) {\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(config));\n  } catch (e) {\n    console.warn('[CV Panel] Could not save config:', e);\n  }\n}\n\n// Apply configuration to CSS variables\nfunction applyConfig(config) {\n  const root = document.documentElement;\n  \n  // Left column\n  root.style.setProperty('--cv-left-width', `${config.leftWidth}vw`);\n  root.style.setProperty('--cv-left-padding-top', `${config.leftPaddingTop}vh`);\n  root.style.setProperty('--cv-left-padding-bottom', `${config.leftPaddingBottom}vh`);\n  root.style.setProperty('--cv-left-gap', `${config.leftGap}rem`);\n  \n  // Photo\n  root.style.setProperty('--cv-photo-aspect-ratio', config.photoAspectRatio);\n  root.style.setProperty('--cv-photo-size', `${config.photoSize}%`);\n  root.style.setProperty('--cv-photo-border-radius', `${config.photoBorderRadius}rem`);\n  \n  // Right column\n  root.style.setProperty('--cv-right-padding-top', `${config.rightPaddingTop}vh`);\n  root.style.setProperty('--cv-right-padding-bottom', `${config.rightPaddingBottom}vh`);\n  root.style.setProperty('--cv-right-padding-x', `${config.rightPaddingX}rem`);\n  root.style.setProperty('--cv-right-max-width', `${config.rightMaxWidth}rem`);\n  \n  // Typography\n  root.style.setProperty('--cv-name-size', `${config.nameSize}rem`);\n  root.style.setProperty('--cv-title-size', `${config.titleSize}rem`);\n  root.style.setProperty('--cv-section-title-size', `${config.sectionTitleSize}rem`);\n  root.style.setProperty('--cv-body-size', `${config.bodySize}rem`);\n  \n  // Spacing\n  root.style.setProperty('--cv-section-gap', `${config.sectionGap}rem`);\n  root.style.setProperty('--cv-paragraph-gap', `${config.paragraphGap}rem`);\n  \n  // Colors\n  root.style.setProperty('--cv-muted-opacity', config.mutedOpacity);\n}\n\n// Create panel HTML\nfunction createPanelHTML() {\n  return `\n    <div id=\"cv-config-panel\" class=\"cv-config-panel\">\n      <div class=\"cv-panel-header\">\n        <h3>CV Layout Config</h3>\n        <button id=\"cv-panel-close\" class=\"cv-panel-close\" aria-label=\"Close panel\">×</button>\n      </div>\n      <div class=\"cv-panel-content\">\n        \n        <details class=\"cv-panel-section\" open>\n          <summary>Left Column</summary>\n          <div class=\"cv-panel-controls\">\n            <label>\n              <span>Width (vw)</span>\n              <input type=\"range\" id=\"leftWidth\" min=\"20\" max=\"45\" step=\"1\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Padding Top (vh)</span>\n              <input type=\"range\" id=\"leftPaddingTop\" min=\"0\" max=\"20\" step=\"1\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Padding Bottom (vh)</span>\n              <input type=\"range\" id=\"leftPaddingBottom\" min=\"0\" max=\"20\" step=\"1\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Gap (rem)</span>\n              <input type=\"range\" id=\"leftGap\" min=\"0.5\" max=\"5\" step=\"0.25\" />\n              <output></output>\n            </label>\n          </div>\n        </details>\n        \n        <details class=\"cv-panel-section\" open>\n          <summary>Photo</summary>\n          <div class=\"cv-panel-controls\">\n            <label>\n              <span>Size (%)</span>\n              <input type=\"range\" id=\"photoSize\" min=\"10\" max=\"150\" step=\"1\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Aspect Ratio</span>\n              <input type=\"range\" id=\"photoAspectRatio\" min=\"0.5\" max=\"1.5\" step=\"0.05\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Border Radius (rem)</span>\n              <input type=\"range\" id=\"photoBorderRadius\" min=\"0\" max=\"3\" step=\"0.1\" />\n              <output></output>\n            </label>\n          </div>\n        </details>\n        \n        <details class=\"cv-panel-section\">\n          <summary>Right Column</summary>\n          <div class=\"cv-panel-controls\">\n            <label>\n              <span>Padding Top (vh)</span>\n              <input type=\"range\" id=\"rightPaddingTop\" min=\"0\" max=\"30\" step=\"1\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Padding Bottom (vh)</span>\n              <input type=\"range\" id=\"rightPaddingBottom\" min=\"0\" max=\"30\" step=\"1\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Padding X (rem)</span>\n              <input type=\"range\" id=\"rightPaddingX\" min=\"0\" max=\"5\" step=\"0.25\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Max Width (rem)</span>\n              <input type=\"range\" id=\"rightMaxWidth\" min=\"30\" max=\"60\" step=\"1\" />\n              <output></output>\n            </label>\n          </div>\n        </details>\n        \n        <details class=\"cv-panel-section\">\n          <summary>Typography</summary>\n          <div class=\"cv-panel-controls\">\n            <label>\n              <span>Name Size (rem)</span>\n              <input type=\"range\" id=\"nameSize\" min=\"1\" max=\"4\" step=\"0.1\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Title Size (rem)</span>\n              <input type=\"range\" id=\"titleSize\" min=\"0.5\" max=\"1.5\" step=\"0.05\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Section Title (rem)</span>\n              <input type=\"range\" id=\"sectionTitleSize\" min=\"0.5\" max=\"1.2\" step=\"0.05\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Body Size (rem)</span>\n              <input type=\"range\" id=\"bodySize\" min=\"0.6\" max=\"1.4\" step=\"0.05\" />\n              <output></output>\n            </label>\n          </div>\n        </details>\n        \n        <details class=\"cv-panel-section\">\n          <summary>Spacing</summary>\n          <div class=\"cv-panel-controls\">\n            <label>\n              <span>Section Gap (rem)</span>\n              <input type=\"range\" id=\"sectionGap\" min=\"1\" max=\"6\" step=\"0.25\" />\n              <output></output>\n            </label>\n            <label>\n              <span>Paragraph Gap (rem)</span>\n              <input type=\"range\" id=\"paragraphGap\" min=\"0.5\" max=\"3\" step=\"0.25\" />\n              <output></output>\n            </label>\n          </div>\n        </details>\n        \n        <div class=\"cv-panel-actions\">\n          <button id=\"cv-panel-reset\" class=\"cv-panel-btn cv-panel-btn--secondary\">Reset to Defaults</button>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Initialize panel\nexport function initCvPanel() {\n  // Create panel toggle button\n  const toggleBtn = document.createElement('button');\n  toggleBtn.id = 'cv-panel-toggle';\n  toggleBtn.className = 'cv-panel-toggle';\n  toggleBtn.setAttribute('aria-label', 'Toggle CV config panel');\n  toggleBtn.textContent = '⚙';\n  document.body.appendChild(toggleBtn);\n  \n  // Create panel\n  const panelContainer = document.createElement('div');\n  panelContainer.innerHTML = createPanelHTML();\n  document.body.appendChild(panelContainer.firstElementChild);\n  \n  const panel = document.getElementById('cv-config-panel');\n  const closeBtn = document.getElementById('cv-panel-close');\n  const resetBtn = document.getElementById('cv-panel-reset');\n  \n  let currentConfig = loadConfig();\n  applyConfig(currentConfig);\n  \n  // Bind all controls\n  Object.keys(currentConfig).forEach(key => {\n    const input = document.getElementById(key);\n    if (!input) return;\n    \n    const output = input.nextElementSibling;\n    \n    // Set initial value\n    input.value = currentConfig[key];\n    if (output) output.textContent = currentConfig[key];\n    \n    // Handle changes\n    input.addEventListener('input', () => {\n      const value = parseFloat(input.value);\n      currentConfig[key] = value;\n      if (output) output.textContent = value;\n      applyConfig(currentConfig);\n      saveConfig(currentConfig);\n    });\n  });\n  \n  // Toggle panel (starts hidden)\n  toggleBtn.addEventListener('click', () => {\n    panel.classList.toggle('cv-panel--visible');\n  });\n  \n  // Keyboard shortcut: / key to toggle\n  document.addEventListener('keydown', (e) => {\n    if (e.key === '/' && !e.ctrlKey && !e.metaKey && !e.altKey) {\n      // Don't trigger if typing in an input\n      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;\n      e.preventDefault();\n      panel.classList.toggle('cv-panel--visible');\n    }\n  });\n  \n  // Close panel\n  closeBtn.addEventListener('click', () => {\n    panel.classList.remove('cv-panel--visible');\n  });\n  \n  // Reset to defaults\n  resetBtn.addEventListener('click', () => {\n    if (!confirm('Reset all CV layout settings to defaults?')) return;\n    \n    currentConfig = { ...DEFAULT_CONFIG };\n    applyConfig(currentConfig);\n    saveConfig(currentConfig);\n    \n    // Update all inputs\n    Object.keys(currentConfig).forEach(key => {\n      const input = document.getElementById(key);\n      if (!input) return;\n      const output = input.nextElementSibling;\n      input.value = currentConfig[key];\n      if (output) output.textContent = currentConfig[key];\n    });\n  });\n  \n  // Close on escape\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape' && panel.classList.contains('cv-panel--visible')) {\n      panel.classList.remove('cv-panel--visible');\n    }\n  });\n  \n  console.log('[CV Panel] Initialized');\n}\n","// ╔══════════════════════════════════════════════════════════════════════════════╗\n// ║                               CV PAGE BOOTSTRAP                               ║\n// ║     Loads runtime text + shared chrome (dark mode, time, socials, sound)      ║\n// ║                     PORTFOLIO PARITY: Matching bootstrap sequence             ║\n// ╚══════════════════════════════════════════════════════════════════════════════╝\n\nimport { getGlobals } from './core/state.js';\nimport { loadRuntimeConfig } from './utils/runtime-config.js';\nimport { loadRuntimeText } from './utils/text-loader.js';\nimport { applyRuntimeTextToDOM } from './ui/apply-text.js';\nimport { initializeDarkMode } from './visual/dark-mode-v2.js';\nimport { maybeAutoPickCursorColor, rotatePaletteChapterOnReload } from './visual/colors.js';\nimport { initTimeDisplay } from './ui/time-display.js';\nimport { upgradeSocialIcons } from './ui/social-icons.js';\nimport { createSoundToggle } from './ui/sound-toggle.js';\nimport { waitForFonts } from './utils/font-loader.js';\nimport { applyWallFrameFromConfig, applyWallFrameLayout, syncWallFrameColors } from './visual/wall-frame.js';\nimport { initNoiseSystem } from './visual/noise-system.js';\nimport { initPortfolioWallCanvas } from './portfolio/wall-only-canvas.js';\nimport { initCvScrollTypography } from './cv/cv-scroll-typography.js';\nimport { initCvPhotoSlideshow } from './cv/cv-photo-slideshow.js';\nimport { initCvPanel } from './cv/cv-panel.js';\nimport { initSharedChrome } from './ui/shared-chrome.js';\nimport { \n  navigateWithTransition, \n  resetTransitionState, \n  setupPrefetchOnHover,\n  NAV_STATES \n} from './utils/page-nav.js';\n\nasync function bootstrapCvPage() {\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                    STEP 1: LOAD RUNTIME TEXT                                 ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  try {\n    await loadRuntimeText();\n    applyRuntimeTextToDOM();\n  } catch (e) {\n    // Non-fatal: continue with defaults.\n  }\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                    STEP 2: WAIT FOR FONTS (Portfolio parity)                 ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  try {\n    await waitForFonts();\n  } catch (e) {}\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                    STEP 3: DRAMATIC ENTRANCE (Portfolio parity)              ║\n  // ║        Runs BEFORE config/dark mode - matches Portfolio bootstrap order      ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  try {\n    const g = getGlobals();\n    const fadeContent = document.getElementById('app-frame');\n    const reduceMotion = !!window.matchMedia?.('(prefers-reduced-motion: reduce)')?.matches;\n    const removeBlocker = () => {\n      try {\n        const blocker = document.getElementById('fade-blocking');\n        if (blocker) blocker.remove();\n      } catch (e) {}\n    };\n    const forceVisible = (reason) => {\n      if (!fadeContent) return;\n      fadeContent.style.opacity = '1';\n      fadeContent.style.transform = 'translateZ(0)';\n      removeBlocker();\n      // Also reveal central content elements\n      const cvContainer = document.querySelector('.cv-scroll-container');\n      if (cvContainer) {\n        cvContainer.style.opacity = '1';\n        cvContainer.style.visibility = 'visible';\n      }\n      console.warn(`⚠️ CV entrance fallback (${reason})`);\n    };\n\n    // Check if View Transition just handled the animation (skip entrance entirely)\n    const { didViewTransitionRun } = await import('./utils/page-nav.js');\n    const viewTransitionHandled = didViewTransitionRun();\n    \n    if (viewTransitionHandled) {\n      // View Transition handled animation - just reveal elements instantly\n      if (fadeContent) {\n        fadeContent.style.opacity = '1';\n        fadeContent.style.visibility = 'visible';\n        fadeContent.style.transform = 'translateZ(0)';\n      }\n      const cvContainer = document.querySelector('.cv-scroll-container');\n      if (cvContainer) {\n        cvContainer.style.opacity = '1';\n        cvContainer.style.visibility = 'visible';\n      }\n      removeBlocker();\n      console.log('✓ CV entrance skipped (View Transition handled it)');\n    } else if (!g.entranceEnabled || reduceMotion) {\n      if (fadeContent) {\n        fadeContent.style.opacity = '1';\n        fadeContent.style.transform = 'translateZ(0)';\n      }\n      // Also reveal central content elements\n      const cvContainer = document.querySelector('.cv-scroll-container');\n      if (cvContainer) {\n        cvContainer.style.opacity = '1';\n        cvContainer.style.visibility = 'visible';\n      }\n      removeBlocker();\n      console.log('✓ CV entrance animation skipped (disabled or reduced motion)');\n    } else {\n      const { orchestrateEntrance } = await import('./visual/entrance-animation.js');\n      await orchestrateEntrance({\n        waitForFonts: async () => {\n          try { await waitForFonts(); } catch (e) {}\n        },\n        skipWallAnimation: true,\n        centralContent: [\n          '.cv-scroll-container'\n        ]\n      });\n      removeBlocker();\n      console.log('✓ Dramatic entrance animation orchestrated (CV)');\n    }\n\n    // Failsafe watchdog: never allow a stuck hidden page (Portfolio parity)\n    window.setTimeout(() => {\n      if (!fadeContent) return;\n      const opacity = window.getComputedStyle(fadeContent).opacity;\n      if (opacity === '0') forceVisible('watchdog');\n    }, 2500);\n  } catch (e) {\n    const fadeContent = document.getElementById('app-frame');\n    if (fadeContent) {\n      fadeContent.style.opacity = '1';\n      fadeContent.style.transform = 'translateZ(0)';\n    }\n    // Failsafe: reveal CV content\n    const cvContainer = document.querySelector('.cv-scroll-container');\n    if (cvContainer) {\n      cvContainer.style.opacity = '1';\n      cvContainer.style.visibility = 'visible';\n    }\n    console.warn('⚠️ CV entrance animation failed, forcing content visible', e);\n  }\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                    STEP 4: LOAD CONFIG + WALL FRAME                          ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  let runtimeConfig = null;\n  try {\n    runtimeConfig = await loadRuntimeConfig();\n    // Initialize state with runtime config so all global parameters are available\n    applyWallFrameFromConfig(runtimeConfig);\n    // CV needs the same visible rubber wall as index, but without running the balls simulation.\n    // Draw the wall ring onto a dedicated canvas layered above the content.\n    try { initPortfolioWallCanvas({ canvasSelector: '.cv-wall-canvas' }); } catch (e) {}\n    // Procedural noise texture (no GIF): generates a small texture once and animates via CSS only.\n    try { initNoiseSystem(getGlobals()); } catch (e) {}\n    // Keep the frame responsive to viewport changes (same behavior as index).\n    window.addEventListener('resize', applyWallFrameLayout, { passive: true });\n  } catch (e) {\n    // Safe fallback: keep the page readable if config loading fails.\n    // Still try to initialize noise with defaults\n    try { initNoiseSystem(); } catch (e2) {}\n  }\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                    STEP 5: MODAL/GATE SYSTEM (Portfolio parity)              ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  // Initialize shared chrome (modals + cursor hiding) with CV-specific config\n  initSharedChrome({\n    contactModal: true,\n    cvModal: false, // Already on CV page\n    portfolioModal: true,\n    cursorHiding: true,\n    modalOverlayConfig: runtimeConfig || {}\n  });\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                    STEP 6: PALETTE + DARK MODE                               ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  // Palette chapters: rotate on each reload (applies only to cursor + palette-driven dots).\n  rotatePaletteChapterOnReload();\n\n  initializeDarkMode();\n  \n  // Ensure wall colors are applied after dark mode initialization\n  // (dark mode syncCssVarsFromConfig might override them, so re-apply from config/globals)\n  const g = getGlobals();\n  const root = document.documentElement;\n  \n  if (runtimeConfig) {\n    // Re-apply wall colors to ensure they match index page\n    syncWallFrameColors(runtimeConfig);\n  } else {\n    // Fallback: use globals if config not available\n    const frameLight = g?.frameColorLight || g?.frameColor;\n    const frameDark = g?.frameColorDark || g?.frameColor;\n    if (frameLight) root.style.setProperty('--frame-color-light', frameLight);\n    if (frameDark) root.style.setProperty('--frame-color-dark', frameDark);\n  }\n  \n  // Force update from globals to ensure values are correct (globals have processed values from initState)\n  const frameLight = g?.frameColorLight || g?.frameColor;\n  const frameDark = g?.frameColorDark || g?.frameColor;\n  if (frameLight) {\n    root.style.setProperty('--frame-color-light', frameLight);\n  }\n  if (frameDark) {\n    root.style.setProperty('--frame-color-dark', frameDark);\n  }\n  \n  // Also update theme-color meta tag with the correct wall color for browser chrome\n  const currentWallColor = g.isDarkMode ? frameDark : frameLight;\n  if (currentWallColor) {\n    const meta = document.querySelector('meta[name=\"theme-color\"]');\n    if (meta) meta.content = currentWallColor;\n    root.style.setProperty('--chrome-bg', currentWallColor);\n  }\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                    STEP 7: SHARED UI CHROME                                  ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  maybeAutoPickCursorColor?.('startup');\n  initTimeDisplay();\n  upgradeSocialIcons();\n  // Sound toggle removed from CV page - no sound on this page\n  // createSoundToggle();\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                       CV-SPECIFIC: SCROLL TYPOGRAPHY                         ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  try {\n    // Ensure fonts are settled so line breaking is stable.\n    try { await waitForFonts(); } catch (e) {}\n    initCvScrollTypography({\n      scrollContainerSelector: '.cv-right',\n      contentSelector: '.cv-right__inner',\n    });\n  } catch (e) {}\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                       CV-SPECIFIC: PHOTO SLIDESHOW                           ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  try {\n    initCvPhotoSlideshow();\n  } catch (e) {\n    console.warn('CV photo slideshow failed to initialize', e);\n  }\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║                       CV-SPECIFIC: CONFIG PANEL (DEV ONLY)                   ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  try {\n    // Production builds intentionally ship with baked-in config (no tuning UI).\n    if (typeof __DEV__ !== 'undefined' && __DEV__) {\n      initCvPanel();\n    }\n  } catch (e) {\n    console.warn('CV config panel failed to initialize', e);\n  }\n\n  // ╔══════════════════════════════════════════════════════════════════════════════╗\n  // ║              SMOOTH PAGE TRANSITIONS (Unified Navigation System)             ║\n  // ╚══════════════════════════════════════════════════════════════════════════════╝\n  \n  // Handle back navigation with smooth transition\n  document.querySelectorAll('[data-nav-transition]').forEach(link => {\n    link.addEventListener('click', (e) => {\n      e.preventDefault();\n      navigateWithTransition(link.href, NAV_STATES.INTERNAL);\n    });\n  });\n  \n  // Handle bfcache restore (browser back/forward with cached page)\n  window.addEventListener('pageshow', (event) => {\n    if (event.persisted) {\n      resetTransitionState();\n      const appFrame = document.getElementById('app-frame');\n      if (appFrame) appFrame.style.opacity = '1';\n    }\n  });\n  \n  // Prefetch index on back link hover\n  const backLink = document.querySelector('[data-nav-transition][href*=\"index\"]');\n  if (backLink) {\n    setupPrefetchOnHover(backLink, 'index.html');\n  }\n  \n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  bootstrapCvPage();\n});\n"],"names":[],"mappings":"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C,GAAG,CAAC,CAAC;AACvE,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC,EAAE,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AAC3E;AACA;AACA,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,oBAAoB,EAAE,MAAM,CAAC,YAAY,CAAC;AACnE;;AAEA;AACA,SAAS,eAAe,GAAG;AAC3B,EAAE,OAAO;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC;AACH;;AAEA;AACO,SAAS,WAAW,GAAG;AAC9B;AACA,EAAE,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;AACpD,EAAE,SAAS,CAAC,EAAE,GAAG,iBAAiB;AAClC,EAAE,SAAS,CAAC,SAAS,GAAG,iBAAiB;AACzC,EAAE,SAAS,CAAC,YAAY,CAAC,YAAY,EAAE,wBAAwB,CAAC;AAChE,EAAE,SAAS,CAAC,WAAW,GAAG,GAAG;AAC7B,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;AACtC;AACA;AACA,EAAE,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AACtD,EAAE,cAAc,CAAC,SAAS,GAAG,eAAe,EAAE;AAC9C,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,iBAAiB,CAAC;AAC7D;AACA,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC;AAC1D,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC;AAC5D,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC;AAC5D;AACA,EAAE,IAAI,aAAa,GAAG,UAAU,EAAE;AAClC,EAAE,WAAW,CAAC,aAAa,CAAC;AAC5B;AACA;AACA,EAAE,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI;AAC5C,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC;AAC9C,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB;AACA,IAAI,MAAM,MAAM,GAAG,KAAK,CAAC,kBAAkB;AAC3C;AACA;AACA,IAAI,KAAK,CAAC,KAAK,GAAG,aAAa,CAAC,GAAG,CAAC;AACpC,IAAI,IAAI,MAAM,EAAE,MAAM,CAAC,WAAW,GAAG,aAAa,CAAC,GAAG,CAAC;AACvD;AACA;AACA,IAAI,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;AAC1C,MAAM,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC;AAC3C,MAAM,aAAa,CAAC,GAAG,CAAC,GAAG,KAAK;AAChC,MAAM,IAAI,MAAM,EAAE,MAAM,CAAC,WAAW,GAAG,KAAK;AAC5C,MAAM,WAAW,CAAC,aAAa,CAAC;AAChC,MAAM,UAAU,CAAC,aAAa,CAAC;AAC/B,IAAI,CAAC,CAAC;AACN,EAAE,CAAC,CAAC;AACJ;AACA;AACA,EAAE,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;AAC5C,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC;AAC/C,EAAE,CAAC,CAAC;AACJ;AACA;AACA,EAAE,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,CAAC,KAAK;AAC9C,IAAI,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE;AAChE;AACA,MAAM,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,KAAK,OAAO,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,KAAK,UAAU,EAAE;AAC3E,MAAM,CAAC,CAAC,cAAc,EAAE;AACxB,MAAM,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC;AACjD,IAAI;AACJ,EAAE,CAAC,CAAC;AACJ;AACA;AACA,EAAE,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;AAC3C,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC;AAC/C,EAAE,CAAC,CAAC;AACJ;AACA;AACA,EAAE,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;AAC3C,IAAI,IAAI,CAAC,OAAO,CAAC,2CAA2C,CAAC,EAAE;AAC/D;AACA,IAAI,aAAa,GAAG,EAAE,GAAG,cAAc,EAAE;AACzC,IAAI,WAAW,CAAC,aAAa,CAAC;AAC9B,IAAI,UAAU,CAAC,aAAa,CAAC;AAC7B;AACA;AACA,IAAI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI;AAC9C,MAAM,MAAM,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC;AAChD,MAAM,IAAI,CAAC,KAAK,EAAE;AAClB,MAAM,MAAM,MAAM,GAAG,KAAK,CAAC,kBAAkB;AAC7C,MAAM,KAAK,CAAC,KAAK,GAAG,aAAa,CAAC,GAAG,CAAC;AACtC,MAAM,IAAI,MAAM,EAAE,MAAM,CAAC,WAAW,GAAG,aAAa,CAAC,GAAG,CAAC;AACzD,IAAI,CAAC,CAAC;AACN,EAAE,CAAC,CAAC;AACJ;AACA;AACA,EAAE,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,CAAC,KAAK;AAC9C,IAAI,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,IAAI,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE;AAC7E,MAAM,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC;AACjD,IAAI;AACJ,EAAE,CAAC,CAAC;AACJ;AACA,EAAE,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC;AACvC;;AC9TA;AACA;AACA;AACA;AACA;;;AA0BA,eAAe,eAAe,GAAG;AACjC;AACA;AACA;AACA,EAAE,IAAI;AACN,IAAI,MAAM,eAAe,EAAE;AAC3B,IAAI,qBAAqB,EAAE;AAC3B,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE;AACd;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE,IAAI;AACN,IAAI,MAAM,YAAY,EAAE;AACxB,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;;AAEf;AACA;AACA;AACA;AACA,EAAE,IAAI;AACN,IAAI,MAAM,CAAC,GAAG,UAAU,EAAE;AAC1B,IAAI,MAAM,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC;AAC5D,IAAI,MAAM,YAAY,GAAG,CAAC,CAAC,MAAM,CAAC,UAAU,GAAG,kCAAkC,CAAC,EAAE,OAAO;AAC3F,IAAI,MAAM,aAAa,GAAG,MAAM;AAChC,MAAM,IAAI;AACV,QAAQ,MAAM,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC;AAChE,QAAQ,IAAI,OAAO,EAAE,OAAO,CAAC,MAAM,EAAE;AACrC,MAAM,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;AACnB,IAAI,CAAC;AACL,IAAI,MAAM,YAAY,GAAG,CAAC,MAAM,KAAK;AACrC,MAAM,IAAI,CAAC,WAAW,EAAE;AACxB,MAAM,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG;AACrC,MAAM,WAAW,CAAC,KAAK,CAAC,SAAS,GAAG,eAAe;AACnD,MAAM,aAAa,EAAE;AACrB;AACA,MAAM,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC;AACxE,MAAM,IAAI,WAAW,EAAE;AACvB,QAAQ,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG;AACvC,QAAQ,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS;AAChD,MAAM;AACN,MAAM,OAAO,CAAC,IAAI,CAAC,CAAC,yBAAyB,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AACzD,IAAI,CAAC;;AAEL;AACA,IAAI,MAAM,EAAE,oBAAoB,EAAE,GAAG,MAAM,OAAO,aAAqB,qCAAC;AACxE,IAAI,MAAM,qBAAqB,GAAG,oBAAoB,EAAE;AACxD;AACA,IAAI,IAAI,qBAAqB,EAAE;AAC/B;AACA,MAAM,IAAI,WAAW,EAAE;AACvB,QAAQ,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG;AACvC,QAAQ,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS;AAChD,QAAQ,WAAW,CAAC,KAAK,CAAC,SAAS,GAAG,eAAe;AACrD,MAAM;AACN,MAAM,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC;AACxE,MAAM,IAAI,WAAW,EAAE;AACvB,QAAQ,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG;AACvC,QAAQ,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS;AAChD,MAAM;AACN,MAAM,aAAa,EAAE;AACrB,MAAM,OAAO,CAAC,GAAG,CAAC,oDAAoD,CAAC;AACvE,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,eAAe,IAAI,YAAY,EAAE;AACnD,MAAM,IAAI,WAAW,EAAE;AACvB,QAAQ,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG;AACvC,QAAQ,WAAW,CAAC,KAAK,CAAC,SAAS,GAAG,eAAe;AACrD,MAAM;AACN;AACA,MAAM,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC;AACxE,MAAM,IAAI,WAAW,EAAE;AACvB,QAAQ,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG;AACvC,QAAQ,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS;AAChD,MAAM;AACN,MAAM,aAAa,EAAE;AACrB,MAAM,OAAO,CAAC,GAAG,CAAC,8DAA8D,CAAC;AACjF,IAAI,CAAC,MAAM;AACX,MAAM,MAAM,EAAE,mBAAmB,EAAE,GAAG,MAAM,OAAO,aAAgC,qCAAC;AACpF,MAAM,MAAM,mBAAmB,CAAC;AAChC,QAAQ,YAAY,EAAE,YAAY;AAClC,UAAU,IAAI,EAAE,MAAM,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;AACnD,QAAQ,CAAC;AACT,QAAQ,iBAAiB,EAAE,IAAI;AAC/B,QAAQ,cAAc,EAAE;AACxB,UAAU;AACV;AACA,OAAO,CAAC;AACR,MAAM,aAAa,EAAE;AACrB,MAAM,OAAO,CAAC,GAAG,CAAC,iDAAiD,CAAC;AACpE,IAAI;;AAEJ;AACA,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM;AAC5B,MAAM,IAAI,CAAC,WAAW,EAAE;AACxB,MAAM,MAAM,OAAO,GAAG,MAAM,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC,OAAO;AAClE,MAAM,IAAI,OAAO,KAAK,GAAG,EAAE,YAAY,CAAC,UAAU,CAAC;AACnD,IAAI,CAAC,EAAE,IAAI,CAAC;AACZ,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE;AACd,IAAI,MAAM,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC;AAC5D,IAAI,IAAI,WAAW,EAAE;AACrB,MAAM,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG;AACrC,MAAM,WAAW,CAAC,KAAK,CAAC,SAAS,GAAG,eAAe;AACnD,IAAI;AACJ;AACA,IAAI,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC;AACtE,IAAI,IAAI,WAAW,EAAE;AACrB,MAAM,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG;AACrC,MAAM,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS;AAC9C,IAAI;AACJ,IAAI,OAAO,CAAC,IAAI,CAAC,0DAA0D,EAAE,CAAC,CAAC;AAC/E,EAAE;;AAEF;AACA;AACA;AACA,EAAE,IAAI,aAAa,GAAG,IAAI;AAC1B,EAAE,IAAI;AACN,IAAI,aAAa,GAAG,MAAM,iBAAiB,EAAE;AAC7C;AACA,IAAI,wBAAwB,CAAC,aAAa,CAAC;AAC3C;AACA;AACA,IAAI,IAAI,EAAE,uBAAuB,CAAC,EAAE,cAAc,EAAE,iBAAiB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;AACvF;AACA,IAAI,IAAI,EAAE,eAAe,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;AACtD;AACA,IAAI,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,oBAAoB,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAC9E,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE;AACd;AACA;AACA,IAAI,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC;AAC3C,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE,gBAAgB,CAAC;AACnB,IAAI,YAAY,EAAE,IAAI;AACtB,IAAI,OAAO,EAAE,KAAK;AAClB,IAAI,cAAc,EAAE,IAAI;AACxB,IAAI,YAAY,EAAE,IAAI;AACtB,IAAI,kBAAkB,EAAE,aAAa,IAAI;AACzC,GAAG,CAAC;;AAEJ;AACA;AACA;AACA;AACA,EAAE,4BAA4B,EAAE;;AAEhC,EAAE,kBAAkB,EAAE;AACtB;AACA;AACA;AACA,EAAE,MAAM,CAAC,GAAG,UAAU,EAAE;AACxB,EAAE,MAAM,IAAI,GAAG,QAAQ,CAAC,eAAe;AACvC;AACA,EAAE,IAAI,aAAa,EAAE;AACrB;AACA,IAAI,mBAAmB,CAAC,aAAa,CAAC;AACtC,EAAE,CAAC,MAAM;AACT;AACA,IAAI,MAAM,UAAU,GAAG,CAAC,EAAE,eAAe,IAAI,CAAC,EAAE,UAAU;AAC1D,IAAI,MAAM,SAAS,GAAG,CAAC,EAAE,cAAc,IAAI,CAAC,EAAE,UAAU;AACxD,IAAI,IAAI,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,qBAAqB,EAAE,UAAU,CAAC;AAC7E,IAAI,IAAI,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,oBAAoB,EAAE,SAAS,CAAC;AAC1E,EAAE;AACF;AACA;AACA,EAAE,MAAM,UAAU,GAAG,CAAC,EAAE,eAAe,IAAI,CAAC,EAAE,UAAU;AACxD,EAAE,MAAM,SAAS,GAAG,CAAC,EAAE,cAAc,IAAI,CAAC,EAAE,UAAU;AACtD,EAAE,IAAI,UAAU,EAAE;AAClB,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,qBAAqB,EAAE,UAAU,CAAC;AAC7D,EAAE;AACF,EAAE,IAAI,SAAS,EAAE;AACjB,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,oBAAoB,EAAE,SAAS,CAAC;AAC3D,EAAE;AACF;AACA;AACA,EAAE,MAAM,gBAAgB,GAAG,CAAC,CAAC,UAAU,GAAG,SAAS,GAAG,UAAU;AAChE,EAAE,IAAI,gBAAgB,EAAE;AACxB,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,0BAA0B,CAAC;AACnE,IAAI,IAAI,IAAI,EAAE,IAAI,CAAC,OAAO,GAAG,gBAAgB;AAC7C,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,aAAa,EAAE,gBAAgB,CAAC;AAC3D,EAAE;;AAEF;AACA;AACA;AACA,EAAE,wBAAwB,GAAG,SAAS,CAAC;AACvC,EAAE,eAAe,EAAE;AACnB,EAAE,kBAAkB,EAAE;AACtB;AACA;;AAEA;AACA;AACA;AACA,EAAE,IAAI;AACN;AACA,IAAI,IAAI,EAAE,MAAM,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;AAK7C,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;;AAEf;AACA;AACA;AACA,EAAE,IAAI;AACN,IAAI,oBAAoB,EAAE;AAC1B,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE;AACd,IAAI,OAAO,CAAC,IAAI,CAAC,yCAAyC,EAAE,CAAC,CAAC;AAC9D,EAAE;;AAEF;AACA;AACA;AACA,EAAE,IAAI;AACN;AACA,IAAmD;AACnD,MAAM,WAAW,EAAE;AACnB,IAAI;AACJ,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE;AACd,IAAI,OAAO,CAAC,IAAI,CAAC,sCAAsC,EAAE,CAAC,CAAC;AAC3D,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE,QAAQ,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI;AACrE,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK;AAC1C,MAAM,CAAC,CAAC,cAAc,EAAE;AACxB,MAAM,sBAAsB,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC;AAC5D,IAAI,CAAC,CAAC;AACN,EAAE,CAAC,CAAC;AACJ;AACA;AACA,EAAE,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,KAAK,KAAK;AACjD,IAAI,IAAI,KAAK,CAAC,SAAS,EAAE;AACzB,MAAM,oBAAoB,EAAE;AAC5B,MAAM,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC;AAC3D,MAAM,IAAI,QAAQ,EAAE,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG;AAChD,IAAI;AACJ,EAAE,CAAC,CAAC;AACJ;AACA;AACA,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,sCAAsC,CAAC;AACjF,EAAE,IAAI,QAAQ,EAAE;AAChB,IAAI,oBAAoB,CAAC,QAAQ,EAAE,YAAY,CAAC;AAChD,EAAE;AACF;AACA;;AAEA,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;AACpD,EAAE,eAAe,EAAE;AACnB,CAAC,CAAC"}